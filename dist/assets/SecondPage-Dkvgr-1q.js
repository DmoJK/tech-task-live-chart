import{r as i,j as e,$ as F}from"./index-CQGzznl7.js";import{u as K,S as E,a as z,b as y}from"./Team-C7uqCOCG.js";const I="data:image/png;base64,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",G="_main_fy0zp_1",R="_title_fy0zp_7",B="_titleLeftSection_fy0zp_19",Q="_select_fy0zp_24",M="_titleRightSection_fy0zp_51",V="_error_fy0zp_56",Z="_loading_fy0zp_75",b="_dashboard_fy0zp_90",k="_itemBlock_fy0zp_96",U="_item_fy0zp_96",P="_team_fy0zp_110",X="_itemDetail_fy0zp_121",J="_itemDetailTeam_fy0zp_133",O="_itemDetailTeamPlayers_fy0zp_143",q="_itemDetailTeamInfo_fy0zp_173",_="_info_fy0zp_190",L="_scoreChanging_fy0zp_200",W="_chip_fy0zp_204",t={main:G,title:R,titleLeftSection:B,select:Q,titleRightSection:M,error:V,loading:Z,dashboard:b,itemBlock:k,item:U,team:P,itemDetail:X,itemDetailTeam:J,itemDetailTeamPlayers:O,itemDetailTeamInfo:q,info:_,scoreChanging:L,chip:W};function H(m,h){const o=i.useRef(void 0);return i.useCallback((...p)=>new Promise(a=>{o.current&&clearTimeout(o.current),o.current=window.setTimeout(async()=>{const l=m(...p);l instanceof Promise?a(await l):a(l)},h)}),[m,h])}const $=()=>{const{isLoading:m,isRefetching:h,isError:o,isRefetchError:p,data:a,refetch:l}=K({queryKey:["matchesList"],queryFn:()=>F.get("/fronttemp").then(s=>{try{return s.data.data.matches}catch{return}})}),[r,d]=i.useState(void 0),[f,u]=i.useState("none"),[D,v]=i.useState(null),[w,j]=i.useState(!1),T=i.useCallback(s=>{a&&(d(s==="none"?a:a.filter(n=>n.status===s)),u(s))},[a]),x=s=>e.jsxs("div",{children:[e.jsxs("div",{children:[e.jsx("img",{src:I,alt:""}),e.jsx("p",{children:s.username})]}),e.jsxs("p",{children:[e.jsx("span",{children:"Убийств:"})," ",s.kills]})]},s.username),N={Finished:"#EB0237",Ongoing:"#43AD28",Scheduled:"#EB6402"},C=H(()=>{j(!1)},200);return i.useEffect(()=>{j(!0),C()},[r]),i.useEffect(()=>{!r&&a&&d(a)},[a,r]),i.useEffect(()=>{const s=new WebSocket("wss://app.ftoyd.com/fronttemp-service/ws");return s.onmessage=n=>{try{const{data:c}=JSON.parse(n.data);d(g=>g?g.map(A=>{const S=c.find(Y=>A.title===Y.title);return S||A}):c)}catch(c){console.error("Ошибка WebSocket",c)}},()=>{s.close()}},[]),e.jsxs("div",{className:t.main,children:[e.jsxs("div",{className:t.title,children:[e.jsxs("div",{className:t.titleLeftSection,children:[e.jsx("h1",{children:"Match Tracker"}),e.jsx("div",{className:t.select,children:e.jsxs("select",{name:"statuses",value:f,onChange:s=>T(s.target.value),children:[e.jsx("option",{value:"none",children:"Все статусы"}),e.jsx("option",{value:"Ongoing",children:"Ongoing"}),e.jsx("option",{value:"Finished",children:"Finished"}),e.jsx("option",{value:"Scheduled",children:"Scheduled"})]})})]}),e.jsxs("div",{className:t.titleRightSection,children:[(o||p)&&e.jsxs("div",{className:t.error,children:[e.jsx(E,{}),e.jsx("p",{children:"Ошибка: не удалось загрузить информацию"})]}),e.jsxs("button",{onClick:()=>l(),className:h||m?t.loading:void 0,children:["Обновить",e.jsx(z,{})]})]})]}),e.jsx("div",{className:t.dashboard,children:r&&r.map((s,n)=>e.jsxs("div",{className:t.itemBlock,onClick:()=>v(c=>n===c?null:n),children:[e.jsxs("div",{className:t.item,children:[e.jsxs("div",{className:t.team,children:[e.jsx(y,{}),e.jsx("p",{children:s.awayTeam.name})]}),e.jsxs("div",{className:t.info,children:[e.jsxs("p",{className:w?t.scoreChanging:void 0,children:[s.awayScore," : ",s.homeScore]}),e.jsx("p",{className:t.chip,style:{backgroundColor:N[s.status]},children:s.status})]}),e.jsxs("div",{className:t.team,children:[e.jsx("p",{children:s.homeTeam.name}),e.jsx(y,{})]})]}),D===n&&e.jsxs("div",{className:t.itemDetail,children:[e.jsxs("div",{className:t.itemDetailTeam,children:[e.jsx("div",{className:t.itemDetailTeamPlayers,children:s.awayTeam.players.map(x)}),e.jsxs("div",{className:t.itemDetailTeamInfo,children:[e.jsxs("p",{children:[e.jsx("span",{children:"Points:"})," ",s.awayTeam.points]}),e.jsxs("p",{children:[e.jsx("span",{children:"Место:"})," ",s.awayTeam.place]}),e.jsxs("p",{children:[e.jsx("span",{children:"Всего убийств:"})," ",s.awayTeam.total_kills]})]})]}),e.jsxs("div",{className:t.itemDetailTeam,children:[e.jsx("div",{className:t.itemDetailTeamPlayers,children:s.homeTeam.players.map(x)}),e.jsxs("div",{className:t.itemDetailTeamInfo,children:[e.jsxs("p",{children:[e.jsx("span",{children:"Points:"})," ",s.homeTeam.points]}),e.jsxs("p",{children:[e.jsx("span",{children:"Место:"})," ",s.homeTeam.place]}),e.jsxs("p",{children:[e.jsx("span",{children:"Всего убийств:"})," ",s.homeTeam.total_kills]})]})]})]})]},s.title))})]})},te=()=>e.jsx($,{});export{te as default};
